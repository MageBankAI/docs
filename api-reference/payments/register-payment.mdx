---
title: 'Register Payment'
api: 'POST /payments/register'
description: "Create a new payment transaction between agents"
---

<Note>
**Agent Transactions**: Create payments between agents with automatic application of approval rules based on the sender's configuration.
</Note>

## Request Headers

<ParamField header="x-api-key" type="string" required>
  Your API key for authentication
</ParamField>

## Request Body

<ParamField body="senderagentid" type="string" required>
  ID of the agent sending the payment
</ParamField>

<ParamField body="receiveragentid" type="string" required>
  ID of the agent receiving the payment
</ParamField>

<ParamField body="paymentdetails" type="object" required>
  Object containing amount, currency, and payment method
</ParamField>

<ParamField body="name" type="string" required>
  Name or description of the payment
</ParamField>

<ParamField body="type" type="string" required>
  Type of payment: "EXTERNAL" or "INTERNAL"
</ParamField>

<ParamField body="tags" type="array">
  Optional tags or categories for the payment
</ParamField>

## Response

<ResponseField name="id" type="string">
  Unique payment identifier
</ResponseField>

<ResponseField name="status" type="string">
  Current status of the payment
</ResponseField>

<ResponseField name="approvalRequired" type="boolean">
  Whether this payment requires approval
</ResponseField>

<ResponseField name="approvalstatus" type="string">
  Current approval status
</ResponseField>

<ResponseField name="txHash" type="string">
  Transaction hash (if processed immediately)
</ResponseField>

<ResponseExample>
```json 200 Requires Approval
{
  "id": "payee_wDG5cavUCoK53uvFzTvkey",
  "name": "Invoice payment for services",
  "type": "EXTERNAL",
  "status": "New",
  "approvalstatus": "Waiting",
  "approvalRequired": true,
  "createdat": "2025-04-17T10:28:18Z",
  "txHash": null
}
```

```json 200 Instant Payment
{
  "id": "payee_xFG8eqvUXeK23zmFwTasLc",
  "name": "Small transaction",
  "type": "INTERNAL",
  "status": "Confirmed",
  "approvalstatus": "Approved",
  "approvalRequired": false,
  "createdat": "2025-04-17T10:30:22Z",
  "txHash": "0xabc123..."
}
```

```json 400 
{
  "error": "Insufficient balance in sender agent's wallet"
}
```
</ResponseExample>

## Status Codes

| Status Code | Description |
|-------------|-------------|
| 200 | Payment registered successfully |
| 400 | Bad Request - Invalid parameters or insufficient balance |
| 404 | Not Found - Agent not found |
| 500 | Internal Server Error |

<Warning>
**Payment Limits**: The payment will fail if it exceeds the sender agent's transaction or daily limits.
</Warning>

<Info>
**Payment Types**: Use "EXTERNAL" for payments to recipients outside your agent network and "INTERNAL" for payments between your own agents.
</Info>

<Info>
**Approval Flow**: Payments requiring approval will need to be approved using the [Approve Payment](/api-reference/payments/approve-payment) endpoint before they are processed.
</Info>