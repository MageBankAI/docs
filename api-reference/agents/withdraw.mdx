---
title: 'Withdraw from Agent'
api: 'POST /agents/withdraw'
description: "Withdraw funds from an agent's wallet"
---

<Note>
**Reverse Transfer**: This endpoint moves funds from an agent's wallet back to the user's wallet through an on-chain transaction.
</Note>

## Request Headers

<ParamField header="x-api-key" type="string" required>
  Your API key for authentication
</ParamField>

## Request Body

<ParamField body="userid" type="string" required>
  ID of the user receiving the withdrawal
</ParamField>

<ParamField body="agentid" type="string" required>
  ID of the agent sending the funds
</ParamField>

<ParamField body="amount" type="number" required>
  Amount to withdraw
</ParamField>

<ParamField body="currency" type="string" default="USDC">
  Currency type to withdraw
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Whether the withdrawal was successful
</ResponseField>

<ResponseField name="txHash" type="string">
  Transaction hash on the blockchain
</ResponseField>

<ResponseField name="message" type="string">
  Information about the withdrawal
</ResponseField>

<ResponseField name="updatedBalance" type="string">
  New balance of the agent after the withdrawal
</ResponseField>

<ResponseExample>
```json 200 
{
  "success": true,
  "txHash": "0x123...abc",
  "message": "Successfully withdrew 50 USDC from agent to user",
  "updatedBalance": "50"
}
```

```json 400 
{
  "error": "userid, agentid, and amount are required."
}
// OR
{
  "error": "Insufficient balance"
}
```

```json 404 
{
  "error": "Agent not found"
}
```

```json 500 
{
  "success": false,
  "error": "Transfer failed on-chain"
}
```
</ResponseExample>

## Status Codes

| Status Code | Description |
|-------------|-------------|
| 200 | Funds withdrawn successfully |
| 400 | Bad Request - Invalid or missing parameters |
| 404 | Not Found - Agent or user not found |
| 500 | Internal Server Error - Transaction failed |

<Warning>
**Balance Check**: The agent must have sufficient funds in its wallet to complete the withdrawal.
</Warning>

<Info>
**Rule Bypass**: Withdrawals bypass the agent's payment rules (daily limit, transaction limit, approval requirements) as they are initiated by the user, not the agent.
</Info>