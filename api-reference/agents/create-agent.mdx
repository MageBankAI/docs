---
title: 'Create Agent'
api: 'POST /agents/create'
description: 'Create a new agent and fund its wallet'
---

<Note>
**Multi-step Process**: This endpoint creates a new agent, generates a blockchain wallet, and can fund the wallet from your user account or via a testnet faucet.
</Note>

## Request Headers

<ParamField header="x-api-key" type="string" required>
  Your API key for authentication
</ParamField>

## Request Body

<ParamField body="userid" type="string" required>
  ID of the user creating the agent
</ParamField>

<ParamField body="name" type="string" required>
  Name of the agent
</ParamField>

<ParamField body="description" type="string">
  Purpose and functionality of the agent
</ParamField>

<ParamField body="balance" type="integer">
  Initial balance to fund the agent
</ParamField>

<ParamField body="dailylimit" type="integer">
  Maximum amount that can be spent per day
</ParamField>

<ParamField body="transactionlimit" type="integer">
  Maximum amount for a single transaction
</ParamField>

<ParamField body="requireapprovalforall" type="boolean" default="false">
  Whether all transactions require approval
</ParamField>

<ParamField body="requireapprovalaboveamount" type="number">
  Transactions above this amount require approval
</ParamField>

<ParamField body="tags" type="array">
  Categories or labels to assign to the agent
</ParamField>

## Response

<ResponseField name="id" type="string">
  Unique agent identifier in short ID format
</ResponseField>

<ResponseField name="apikey" type="string">
  The API key for authentication
</ResponseField>

<ResponseField name="status" type="string">
  Current status of the agent (active, inactive, paused)
</ResponseField>

<ResponseField name="walletAddress" type="object">
  The blockchain wallet information
</ResponseField>

<ResponseField name="balance" type="string">
  Initial balance of the agent's wallet
</ResponseField>

<ResponseField name="paymentRules" type="object">
  Configuration for transaction limits and approval requirements
</ResponseField>

<ResponseField name="transferResult" type="object">
  Result of the fund transfer from user to agent
</ResponseField>

<ResponseField name="faucetTransaction" type="object">
  Result of any testnet faucet funding transaction
</ResponseField>


<ResponseExample>
```json 200
{
  "id": "agent_bRSEFnMRD1fvkMM39hzPdM",
  "apikey": "mag_eJwVyN0OgiAYANA3...",
  "name": "Payment Assistant",
  "description": "Handles payment processing for customer support",
  "status": "active",
  "walletAddress": {
    "networkId": "base-sepolia"
  },
  "balance": "6",
  "currency": "USDC",
  "paymentRules": {
    "dailyLimit": 1000,
    "transactionLimit": 100,
    "requireApprovalAboveAmount": 50,
    "requireApprovalForAll": false
  },
  "transferResult": {
    "success": true,
    "txHash": "0x123...abc",
    "message": "Successfully transferred 6 USDC from user to agent wallet"
  }
}
```

```json 201
{
  "id": "agent_bRSEFnMRD1fvkMM39hzPdM",
  "warning": "Agent created successfully, but funding transfer failed. Please try funding the agent manually."
}
```

```json 400 
{
  "error": "Agent name is required"
}
```

```json 404
{
  "error": "User not found"
}
```

```json 500
{
  "error": "Internal server error occurred while creating agent"
}
```
</ResponseExample>

## Status Codes

| Status Code | Description |
|-------------|-------------|
| 200 | Agent created and funded successfully |
| 201 | Agent created, but funding transfer failed |
| 400 | Bad Request - Invalid or missing parameters |
| 404 | Not Found - User ID not found |
| 500 | Internal Server Error |

<Warning>
**Important**: Save the returned agent ID and API key securely, as they'll be needed for future operations with this agent.
</Warning>